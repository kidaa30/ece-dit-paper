
%
%  $Description: Author guidelines and sample document in LaTeX 2.09$
%
%  $Author: ienne, modified by Laurent George $
%  $Date: 2012/02/02 15:20:59 $
%  $Revision: 1.5 $


\documentclass[times, 10pt,twocolumn, a4paper]{article}
\usepackage{latex8}
\usepackage{epsfig, hhline}
\usepackage{amssymb}
\usepackage{vmargin,array,multirow,float,shadow,times, euscript}
\usepackage{amsmath}
\usepackage{algorithmic}
\usepackage[ruled,vlined]{algorithm2e}
\usepackage{pdftricks}


\newtheorem{property}{Property}
\newtheorem{assumption}{Assumption}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{remark}{Remark}
\newtheorem{constraint}{Constraint}
\newtheorem{corollary}{Corollary}
\newtheorem{condition}{Condition}

\def\QED{\mbox{\rule[0pt]{1.5ex}{1.5ex}}}
\def\proof{\noindent{{\textbf{Proof}: }}}
\def\endproof{\hspace*{\fill}~\QED\par\endtrivlist\unskip \vspace{1\baselineskip}}

\newcommand{\dbf}[1]{\operatorname{dbf}(#1)}

%\newenvironment{accolade}{\begin{centering} $$ \left\{ \begin{array}{l}}{\end{array} \right. $$ \end{centering}}


%-------------------------------------------------------------------------
% take the % away on next line to produce the final camera-ready version
\pagestyle{empty}

%-------------------------------------------------------------------------
\begin{document}

\title{Describing the C-space of asynchronous periodic task using DIT}

\author{Thomas Chapeaux, Paul Rodriguez\\
Universit\'e Libre de Bruxelles\\ tchapeau@ulb.ac.be, paurodri@ulb.ac.be \\
% For a paper whose authors are all at the same institution,
% omit the following lines up until the closing ``}''.
% Additional authors and addresses can be added with ``\and'',
% just like the second author.
\and
Laurent George\\
ECE Paris\\
First line of institution2 address\\ Second line of institution2 address\\
lgeorge@ece.fr\\
}

\maketitle
\thispagestyle{empty}

\begin{abstract}
   Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla lobortis mi vel turpis ultricies vulputate vel at arcu. Curabitur lectus metus, rutrum sed malesuada ut, mollis sit amet mauris. Integer dapibus in risus et porttitor. In hac habitasse platea dictumst. Maecenas dolor libero, suscipit porta consequat eu, consequat non orci. Sed tortor neque, tincidunt congue cursus sit amet, luctus id ipsum. Aenean tempor est nisl, at dictum metus elementum iaculis.
\end{abstract}


\section{Introduction}

Abstract models for real-time systems often require the determination of the (worst-case) computation time of a job, a value highly dependent on the platform on which the application will be deployed.\\

The \emph{C-space} of a real-time system is, intuitively, the set of execution times value for which this system would be feasible. A precise and efficient description of its C-space would allow to quickly decide if a system is feasible on a given platform.\\

This section review the current description of the C-space of synchronous constrained systems, mostly studied by \cite{george2009characterization}.

  \subsection{Model}

  We consider a discrete time and systems of periodic concrete tasks with constrained deadline on uniprocessor platform, where each task $\tau_i$ is represented by a tuple $(O_i, C_i, D_i, T_i)$ where $O_i$ is the offset value, $C_i$ the execution time, $D_i$ the relative deadline and $T_i$ the period. The constrained deadline property implies that $D_i \leq T_i \; \forall i$. In the following, we differentiate between \emph{synchronous systems} (where $O_i = 0 \; \forall i$) and \emph{asynchronous systems} (which are not synchronous).\\

  For those systems, the \emph{Earliest Deadline First} (EDF) algorithm, in which jobs are prioritized according to their absolute deadline, has been shown to be optimal [citation needed], that is it schedules any feasible system.\\

  Furthermore, the following notations are used:
  \begin{itemize}
    \item $\tau = (\tau_0, \cdots, \tau_{n-1})$
    \item $H = \operatorname{lcm}(T_0, \cdots, t_{n-1})$
    \item $O_{max} = \max (O_0, \cdots, O_{n-1})$
    \item An \emph{idle time} is an instant $t$ at which each job that arrived strictly before $t$ has finished its execution.
    \item The interval between the initial time and the first idle time is called the \emph{busy period}.
  \end{itemize}

  \subsection{The DBF feasibility test}

  We recall the necessary and sufficient condition explained in \cite{baruah1999generalized, baruah1990algorithms}, based on the demand-bound function.

  \begin{definition}
  The \textbf{demand-bound function (DBF)}
  \cite{baruah1999generalized, baruah1990algorithms} defined for a task set
  $\tau$ and noted $\dbf{t_1, t_2}$, is equal to the maximal cumulated execution time of jobs of $\tau$ contained in the interval $[t_1, t_2]$.
  \end{definition}

  Mathematically,
  \[
    \dbf{t_1, t_2} = \sum_{i=0}^{n-1} n_i(t_1, t_2) \, C_i
  \]
  where $n_i(t_1, t_2)$ is the number of jobs of task $i$ whose arrival and
  deadline both are in the interval $[t_1, t_2]$.\\

The values of the $n_i$ are given by
\[
  n_i(t_1, t_2) = \left( \left\lfloor \frac{t_2 - O_i -
  D_i}{T_i} \right\rfloor - \left\lceil \frac{t_1 - O_i}{T_i} \right\rceil + 1 \right)^{+}
\]
where $(x)^+$ stands for $\max \{ 0, x \}$.\\

The DBF allows to give a necessary and sufficient condition of feasibility:

\begin{theorem}
\[
  \begin{array}{c}
    (\tau_1, ..., \tau_n) \: \text{is feasible}  \iff \\
    \dbf{t_1, t_2} \leq t_2 - t_1 \; \forall \: 0 \leq t_1 \leq t_2
  \end{array}
\]
\end{theorem}

  \subsection{C-space of synchronous systems}

    \subsubsection{Definition}

The authors of \cite{george2009characterization} give the following definition of the C-space:
\begin{definition}
For a given task system $\tau$ in which the $C_i$ are not known, the \textbf{C-space} is a region of $n$ dimensions (where each dimension denotes the possible $C_i$ of a task of $\tau$) such that for any vector $C = \{ C_0, \cdots, C_{n-1}\}$ in the C-space, $\tau$ is feasible.
\end{definition}

%Thus, with a good description of the C-space, it is easy to check if a given vector of $C_i$ value (given e.g. when deploying the application on a specific platform) allows the system to be scheduled or not.

  \subsubsection{Description using DBF}

A region of $\mathbb{N}^n$ can be described by a list of parametric linear equations describing the convex hull of the admissible points. In other words, a list of conditions which can unequivocally decide if a point is included in the region or not.\\

For the synchronous case, the DBF test gives us a list of equations which, taken together, are a necessary and sufficient condition of feasibility. Those are:
$$\sum_{i=0}^{n-1} n_i(t_1, t_2) \, C_i \leq t_2 - t_1 \; \forall \: 0 \leq t_1 \leq t_2$$
Note that for a given $t$, we have that the $n_i(t)$ are constant (w.r.t. the $C_i$). Those equations are thus indeed linear.\\

However, this description contains an infinite number of equations, most of which are redundant. While this does not harm the precision of the description, an more efficient description is preferred as it can greatly reduce computation times. The next section gives a method to reduce the size of the description.

\subsection{Removing redundancy}

In the synchronous case, is has been shown that the equations corresponding to every interval $[0, t]$ (with $t$ a job deadline happening before $H$) are necessary and sufficient to test the feasibility.\\

Even then, the number of equations to consider is exponential in the number of tasks. While it has been shown that intervals ending after the end of the busy period are also redundant, this value depends on the $C_i$ and is therefore not usable. The following concept is thus introduced, which is similar to the end of the busy period but which does not depend on the execution times.

\begin{definition}
A \textbf{definitive idle time} (DIT) is a time $t$ such that every job released strictly before instant $t$ has its absolute deadline before or at instant $t$.
\end{definition}

\begin{definition}
The earliest DIT occurring in the system strictly after $t=0$ is called the \textbf{first DIT} and is noted $t_d$.
\end{definition}

The value of the first DIT can be found by solving the following equation:
\[
  t_d = \min \left( t \; s.t. \; \forall i:
  \left\{
  \begin{array}{c}
    t \equiv a_i \; (mod \; T_i) \\
    a_i \in [D_i, T_i]
  \end{array}
  \right.
  \right)
\]

\begin{remark} (from the definition):
 \begin{itemize}
  \item Contrary to the idle times, the DITs are independent of the scheduling or the execution times of the jobs.
  \item In feasible system, every DIT is an idle time.
  \item In feasible system, the first DIT happens after the end of the busy period.
  \item As $H$ is always a DIT, we have $t_d \leq H$.
 \end{itemize}
\end{remark}

Every DIT being an idle instant, the execution of the system after it does not depend on what happened previously. Because the synchronous arrival pattern is the worst case [citation needed], it is sufficient for the DBF test to only consider intervals $[0, t]$ with $t$ being a deadline before the first DIT.\\

To summarize, we reduced the description of the C-space from an infinite number of equations to only the equations where $t_1 = 0$, $t_2 \leq t_d$ and $t_2$ correspond to a deadline job. Note that this is still exponential in the number of tasks.

  \subsection{Our work}

  In this paper, we extend the work of \cite{george2009characterization} to the asynchronous case. In section \ref{sct:asyncDIT}, we present an extension of the concept of DIT adapted to the asynchronous case called first periodic DIT ($t_d$), along with an algorithm to find its value. In Section \ref{sct:asyncCspace}, we show how to describe the C-space of an asynchronous system based on the DBF test, and we show why the interval $[t_d, t_d + H]$ is sufficient to consider.

\section{DIT in asynchronous systems}
  \label{sct:asyncDIT}

  \subsection{Definition}

  \begin{definition}
  The \textbf{first periodic DIT} is the earliest DIT to occur strictly after the arrival of at least one job of each task.
  \end{definition}

  \subsection{Existence condition}

As in the synchronous case, the problem of existence of the first periodic DIT can be written as a system of modular equation:
$$
\begin{array}{l}
  \exists ? \; t_d \; s.t. \; \forall i \; :\\
  \left\{
    \begin{array}{l}
    t_d > O_i \\
    t_d - O_i \equiv a_i \; (mod \; T_i) \\
    a_i \in [D_i, T_i]
  \end{array}
\right.
\end{array}
$$

This system is guaranteed to have at least one solution modulo $H$ for given values of $a_i$ if the following condition is respected $$a_i + O_i \equiv a_j + O_j \; (\operatorname{mod} \; \operatorname{gcd}(T_i, T_j)) \; \forall i, j$$

  \subsection{Simulation}

  `e' factor...

\section{Description of the C-space of asynchronous system}
  \label{sct:asyncCspace}

\section{Example}

\section{Conclusion}

\nocite{*}
\bibliographystyle{latex8}
\bibliography{dit-paper}

\end{document}
